webpackJsonp([3],{YmtZ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("mvHQ"),i=a.n(r),l=a("d7EF"),o=a.n(l),s=a("bOdI"),n=a.n(s),d={data:function(){var t;return t={searchdialogVisible:!1,searchType:"",searchContent:"",search_table_data:[],pagination:{current:1,total:null,size:6},parts_table_data:[],adddialogVisible:!1,updatedialogVisible:!1,DetaildialogVisible:!1,selectedPart:{},partImage:""},n()(t,"selectedPart",{}),n()(t,"partImage",""),n()(t,"addform",{partId:1,partName:"",image:"",model:"",color:"",applicableModels:"",price:"",inventoryQuantity:0}),n()(t,"updateform",{partId:1,partName:"",image:"",model:"",color:"",applicableModels:"",price:"",inventoryQuantity:0}),n()(t,"findform",{partId:1,partName:"",image:"",model:"",color:"",applicableModels:"",price:"",inventoryQuantity:0}),n()(t,"rules",{partName:[{required:!0,message:"请输入配件名称",trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"}],image:[{required:!0,message:"请输入图片文件名",trigger:"blur"},{pattern:/\.(jpg|png|gif|bmp)$/i,message:"请输入有效的图片文件名（例如，以.jpg, .png, .gif, 或 .bmp 结尾）",trigger:"blur"}],applicableModels:[{required:!0,message:"请输入适用车型",trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"}],model:[{required:!0,message:"请输入型号名称",trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"}],color:[{required:!0,message:"请输入颜色",trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"}],price:[{required:!0,message:"请输入价格",trigger:"blur"},{type:"number",message:"价格必须为数字",trigger:"blur"},{validator:function(t,e,a){e<0?a(new Error("价格不能为负")):e>1e4?a(new Error("价格不应超过10000")):a()},trigger:"blur"}]}),t},beforeRouteEnter:function(t,e,a){a(function(t){t.getPartsInfo()})},beforeRouteUpdate:function(t,e,a){this.getPartsInfo(),a()},mounted:function(){this.getPartsInfo()},computed:{searchPlaceholder:function(){switch(this.searchType){case"price":return"请输入价格范围，如 100-200";case"inventory":return"请输入库存范围，如 50-100";case"partName":return"请输入配件名称";default:return"请搜索"}}},methods:{viewPartDetail:function(t){this.selectedPart=t,this.partImage=a("czpq")("./"+this.selectedPart.image),this.DetaildialogVisible=!0},searchParts:function(){var t=this;this.search_table_data=this.parts_table_data.filter(function(e){switch(t.searchType){case"price":var a=t.searchContent.split("-").map(Number),r=o()(a,2),i=r[0],l=r[1];return e.price>=i&&e.price<=l;case"inventory":var s=t.searchContent.split("-").map(Number),n=o()(s,2),d=n[0],c=n[1];return e.inventoryQuantity>=d&&e.inventoryQuantity<=c;case"partName":return e.partName.includes(t.searchContent);default:return!0}}),this.searchdialogVisible=!0},clearout:function(){this.updateform.partId=1,this.updateform.partName="",this.updateform.image="",this.updateform.model="",this.updateform.color="",this.updateform.applicableModels="",this.updateform.price=0,this.updateform.inventoryQuantity=0,this.addform.partId=1,this.addform.partName="",this.addform.image="",this.addform.model="",this.addform.color="",this.addform.applicableModels="",this.addform.price=0,this.addform.inventoryQuantity=0},add:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.$axios({url:"/api/parts/add",method:"post",data:{partId:e.addform.partId,partName:e.addform.partName,image:e.addform.image,model:e.addform.model,color:e.addform.color,applicableModels:e.addform.applicableModels,price:e.addform.price,inventoryQuantity:e.addform.inventoryQuantity}}).then(function(t){console.log(e.addform),e.$message.success("新的配件信息已登记."),e.getPartsInfo(),e.adddialogVisible=!1}).catch(function(t){e.$message.error("配件信息登记失败.")})})},openadddialog:function(){this.adddialogVisible=!0},conditionalfind:function(t){var e=this;this.$axios("/api/parts/selectOne/"+t).then(function(t){findform=t.data}).then(function(t){console.log(e.findform),e.$message.success("查询配件信息成功.")}).catch(function(t){e.$message.error("查询配件信息失败.")})},conditionaldelete:function(t){var e=this;this.$axios.delete("/api/parts/delete/"+t.partId).then(function(t){console.log(t.data),e.$message.success("该配件已删除."),e.getPartsInfo()}).catch(function(t){e.$message.error("删除失败.")})},openupdate:function(t){this.updatedialogVisible=!0,this.updateform=JSON.parse(i()(t))},conditionalupdate:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.$axios({url:"/api/parts/update",method:"put",data:{partId:e.updateform.partId,partName:e.updateform.partName,image:e.updateform.image,model:e.updateform.model,color:e.updateform.color,applicableModels:e.updateform.applicableModels,price:e.updateform.price,inventoryQuantity:e.updateform.inventoryQuantity}}).then(function(t){console.log(e.updateform),e.$message.success("配件信息已更新."),e.getPartsInfo(),e.updatedialogVisible=!1}).catch(function(t){e.$message.error("配件信息更新出错.")})})},getPartsInfo:function(){var t=this;this.$axios("/api/parts/queryAll").then(function(e){t.parts_table_data=e.data,console.log(e)}).catch(function(t){console.log(t)})},handleSizeChange:function(t){this.pagination.size=t,this.getPartsInfo()},handleCurrentChange:function(t){this.pagination.current=t,this.getPartsInfo()},handleClose:function(t){this.adddialogVisible=!1,this.updatedialogVisible=!1,this.searchdialogVisible=!1,this.DetaildialogVisible=!1},InStore:function(t){this.$router.push({path:"/ConfirmIn",query:{partId:t.partId}})},OutStore:function(t){this.$router.push({path:"/ConfirmOut",query:{partId:t.partId}})}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"partsList"}},[a("section",{staticClass:"container"},[a("div",{staticClass:"main_wrapper"},[a("div",{staticClass:"top_class",staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"10px"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",circle:""},on:{click:function(e){t.openadddialog()}}}),t._v(" "),a("div",{staticClass:"searchClass",staticStyle:{display:"flex","align-items":"center"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchType,callback:function(e){t.searchType=e},expression:"searchType"}},[a("el-option",{attrs:{label:"价格范围",value:"price"}}),t._v(" "),a("el-option",{attrs:{label:"库存范围",value:"inventory"}}),t._v(" "),a("el-option",{attrs:{label:"配件名称",value:"partName"}})],1),t._v(" "),a("el-input",{staticClass:"input-with-select",attrs:{placeholder:t.searchPlaceholder},model:{value:t.searchContent,callback:function(e){t.searchContent=e},expression:"searchContent"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.searchParts},slot:"append"})],1)],1)],1),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"context1"},[a("div",{staticClass:"tableArea"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.parts_table_data,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"partName",label:"配件名称",width:"300"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"价格",width:"300"}}),t._v(" "),a("el-table-column",{attrs:{prop:"inventoryQuantity",label:"库存数量",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{color:"red"},attrs:{type:"text",size:"small"},on:{click:function(a){t.conditionaldelete(e.row)}}},[t._v("删除")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.openupdate(e.row)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.InStore(e.row)}}},[t._v("入库")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.OutStore(e.row)}}},[t._v("出库")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.viewPartDetail(e.row)}}},[t._v("详细")])]}}])})],1)],1)])])]),t._v(" "),a("el-dialog",{attrs:{visible:t.DetaildialogVisible,"before-close":t.handleClose,width:"50%",center:""},on:{"update:visible":function(e){t.DetaildialogVisible=e}}},[a("div",{staticClass:"part-detail"},[a("h2",[t._v(t._s(t.selectedPart.partName))]),t._v(" "),a("el-image",{staticClass:"part-image",attrs:{src:t.partImage}}),t._v(" "),a("div",{staticClass:"part-info"},[a("p",[a("strong",[t._v("配件ID：")]),t._v(t._s(t.selectedPart.partId))]),t._v(" "),a("p",[a("strong",[t._v("模型：")]),t._v(t._s(t.selectedPart.model))]),t._v(" "),a("p",[a("strong",[t._v("颜色：")]),t._v(t._s(t.selectedPart.color))]),t._v(" "),a("p",[a("strong",[t._v("适用模型：")]),t._v(t._s(t.selectedPart.applicableModels))]),t._v(" "),a("p",[a("strong",[t._v("价格：")]),t._v(t._s(t.selectedPart.price))]),t._v(" "),a("p",[a("strong",[t._v("库存数量：")]),t._v(t._s(t.selectedPart.inventoryQuantity))])])],1)]),t._v(" "),a("el-dialog",{attrs:{visible:t.searchdialogVisible,"before-close":t.handleClose,title:"查询结果",width:"70%",center:""},on:{"update:visible":function(e){t.searchdialogVisible=e}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.search_table_data,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"partName",label:"配件名称",width:"300"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"价格",width:"300"}}),t._v(" "),a("el-table-column",{attrs:{prop:"inventoryQuantity",label:"库存数量",width:"300"}})],1)],1),t._v(" "),a("el-dialog",{attrs:{visible:t.adddialogVisible,"before-close":t.handleClose,width:"60%",center:""},on:{"update:visible":function(e){t.adddialogVisible=e}}},[a("div",{staticClass:"part-detail",staticStyle:{padding:"20px"}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",staticStyle:{"margin-bottom":"20px"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("添加配件信息")])]),t._v(" "),a("el-form",{ref:"addform",attrs:{model:t.addform,rules:t.rules,"label-width":"120px"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{label:"配件名称",prop:"partName"}},[a("el-input",{attrs:{placeholder:"请输入配件名称"},model:{value:t.addform.partName,callback:function(e){t.$set(t.addform,"partName",e)},expression:"addform.partName"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{label:"图片",prop:"image"}},[a("el-input",{attrs:{placeholder:"请输入配件图片路径"},model:{value:t.addform.image,callback:function(e){t.$set(t.addform,"image",e)},expression:"addform.image"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{label:"型号",prop:"model"}},[a("el-input",{attrs:{placeholder:"请输入配件型号"},model:{value:t.addform.model,callback:function(e){t.$set(t.addform,"model",e)},expression:"addform.model"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{label:"适用车型",prop:"applicableModels"}},[a("el-input",{attrs:{placeholder:"请输入适用车型"},model:{value:t.addform.applicableModels,callback:function(e){t.$set(t.addform,"applicableModels",e)},expression:"addform.applicableModels"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{label:"颜色",prop:"color"}},[a("el-input",{attrs:{placeholder:"请输入配件颜色"},model:{value:t.addform.color,callback:function(e){t.$set(t.addform,"color",e)},expression:"addform.color"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{label:"价格",prop:"price"}},[a("el-input",{attrs:{placeholder:"请输入价格"},model:{value:t.addform.price,callback:function(e){t.$set(t.addform,"price",t._n(e))},expression:"addform.price"}})],1),t._v(" "),a("el-form-item",{staticStyle:{display:"flex","justify-content":"flex-end","margin-top":"20px"}},[a("el-button",{staticStyle:{"margin-right":"10px",padding:"10px"},attrs:{type:"primary",size:"medium"},on:{click:function(e){t.add("addform")}}},[t._v("提交")]),t._v(" "),a("el-button",{staticStyle:{padding:"10px"},attrs:{type:"primary"},on:{click:function(e){t.clearout()}}},[t._v("清空")])],1)],1)],1)],1)]),t._v(" "),a("el-dialog",{attrs:{visible:t.updatedialogVisible,"before-close":t.handleClose,width:"60%",center:""},on:{"update:visible":function(e){t.updatedialogVisible=e}}},[a("div",{staticClass:"part-detail",staticStyle:{padding:"20px"}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",staticStyle:{"margin-bottom":"20px"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("修改配件信息")])]),t._v(" "),a("el-form",{ref:"updateform",attrs:{model:t.updateform,rules:t.rules,"label-width":"120px"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{label:"配件名称",prop:"partName"}},[a("el-input",{attrs:{placeholder:"Enter Part Name"},model:{value:t.updateform.partName,callback:function(e){t.$set(t.updateform,"partName",e)},expression:"updateform.partName"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{label:"图片",prop:"image"}},[a("el-input",{attrs:{placeholder:"Enter Image URL"},model:{value:t.updateform.image,callback:function(e){t.$set(t.updateform,"image",e)},expression:"updateform.image"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{label:"型号",prop:"model"}},[a("el-input",{attrs:{placeholder:"请输入配件型号"},model:{value:t.updateform.model,callback:function(e){t.$set(t.updateform,"model",e)},expression:"updateform.model"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{label:"适用车型",prop:"model"}},[a("el-input",{attrs:{placeholder:"请输入适用车型"},model:{value:t.updateform.applicableModels,callback:function(e){t.$set(t.updateform,"applicableModels",e)},expression:"updateform.applicableModels"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{label:"颜色",prop:"color"}},[a("el-input",{attrs:{placeholder:"请输入配件颜色"},model:{value:t.updateform.color,callback:function(e){t.$set(t.updateform,"color",e)},expression:"updateform.color"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{label:"价格",prop:"price"}},[a("el-input",{attrs:{placeholder:"请输入配件价格"},model:{value:t.updateform.price,callback:function(e){t.$set(t.updateform,"price",t._n(e))},expression:"updateform.price"}})],1),t._v(" "),a("el-form-item",{staticStyle:{display:"flex","justify-content":"flex-end","margin-top":"20px"}},[a("el-button",{staticStyle:{"margin-right":"10px",padding:"10px"},attrs:{type:"primary",size:"medium"},on:{click:function(e){t.conditionalupdate("updateform")}}},[t._v("提交")]),t._v(" "),a("el-button",{staticStyle:{padding:"10px"},attrs:{type:"primary"},on:{click:function(e){t.clearout()}}},[t._v("清空")])],1)],1)],1)],1)])],1)},staticRenderFns:[]};var p=a("VU/8")(d,c,!1,function(t){a("xzY7")},"data-v-7b000b0f",null);e.default=p.exports},xzY7:function(t,e){}});