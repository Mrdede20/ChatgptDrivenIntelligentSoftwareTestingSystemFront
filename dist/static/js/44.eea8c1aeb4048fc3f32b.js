webpackJsonp([44],{Cv5F:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o={data:function(){return{form:{applicationId:"",customerId:"",orderId:"",reasonForRefund:"",applicationDate:new Date,statusOfApplication:"",refundAmount:""},rules:{customerId:[{required:!0,message:"请输入客户ID",trigger:"blur"},{pattern:/^\d+$/,message:"客户ID必须为整数",trigger:"blur"}],orderId:[{required:!0,message:"请输入订单ID",trigger:"blur"},{pattern:/^\d+$/,message:"订单ID必须为整数",trigger:"blur"}],reasonForRefund:[{required:!0,message:"请输入退款原因",trigger:"blur"}],applicationDate:[{required:!0,message:"请选择申请日期",trigger:"change"}],refundAmount:[{required:!0,message:"请输入退款金额",trigger:"blur"},{pattern:/^\d+$/,message:"退款金额必须为整数",trigger:"blur"}]}}},created:function(){this.$route.query.saleOrderData&&(this.saleorder=JSON.parse(this.$route.query.saleOrderData),console.log(this.saleorder),this.form.customerId=this.saleorder.customerId,this.form.orderId=this.saleorder.orderId,this.form.refundAmount=this.saleorder.totalPrice)},methods:{clearForm:function(){this.form.applicationId="",this.form.reasonForRefund="",this.form.applicationDate=new Date},submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return!1;r.$axios({url:"/api/refundApplications/add",method:"post",data:{applicationId:r.form.applicationId,customerId:r.form.customerId,orderId:r.form.orderId,reasonForRefund:r.form.reasonForRefund,applicationDate:r.form.applicationDate,statusOfApplication:"待审批",refundAmount:r.form.refundAmount}}).then(function(){r.$message.success("退款申请单已添加"),r.clearForm(),r.$router.push({path:"/QueryPurchaseRecords"})}).catch(function(){r.$message.error("添加退款申请单失败")})})}}},a={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("退款申请单")])]),e._v(" "),t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"},nativeOn:{submit:function(e){e.preventDefault()}}},[t("el-form-item",{attrs:{label:"客户ID",prop:"customerId"}},[t("el-input",{attrs:{readonly:"true",placeholder:"请输入客户ID"},model:{value:e.form.customerId,callback:function(r){e.$set(e.form,"customerId",r)},expression:"form.customerId"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"订单ID",prop:"orderId"}},[t("el-input",{attrs:{readonly:"true",placeholder:"请输入订单ID"},model:{value:e.form.orderId,callback:function(r){e.$set(e.form,"orderId",r)},expression:"form.orderId"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"退款原因",prop:"reasonForRefund"}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入退款原因"},model:{value:e.form.reasonForRefund,callback:function(r){e.$set(e.form,"reasonForRefund",r)},expression:"form.reasonForRefund"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"申请日期",prop:"applicationDate"}},[t("el-date-picker",{attrs:{type:"date",placeholder:"请选择申请日期"},model:{value:e.form.applicationDate,callback:function(r){e.$set(e.form,"applicationDate",r)},expression:"form.applicationDate"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"退款金额",prop:"refundAmount"}},[t("el-input",{attrs:{readonly:"true",placeholder:"请输入退款金额"},model:{value:e.form.refundAmount,callback:function(r){e.$set(e.form,"refundAmount",r)},expression:"form.refundAmount"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.submitForm("form")}}},[e._v("提交")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.clearForm()}}},[e._v("清空")])],1)],1)],1)},staticRenderFns:[]};var s=t("VU/8")(o,a,!1,function(e){t("mQOi")},"data-v-33371bf4",null);r.default=s.exports},mQOi:function(e,r){}});