webpackJsonp([30],{BCdF:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o={data:function(){return{form:{orderId:"",customerId:"",productId:"",reasonForReturn:"",statusOfReturn:"",dateOfApplication:new Date,expectedDateOfCompletion:""},rules:{customerId:[{required:!0,message:"请输入客户ID",trigger:"blur"},{pattern:/^\d+$/,message:"客户ID必须为整数",trigger:"blur"}],productId:[{required:!0,message:"请输入商品ID",trigger:"blur"},{pattern:/^\d+$/,message:"商品ID必须为整数",trigger:"blur"}],reasonForReturn:[{required:!0,message:"请输入退换原因",trigger:"blur"}],statusOfReturn:[{required:!0,message:"请输入退换货状态",trigger:"blur"}],dateOfApplication:[{required:!0,message:"请选择申请日期",trigger:"change"}],expectedDateOfCompletion:[{required:!0,message:"请选择预计完成日期",trigger:"change"}]}}},created:function(){this.$route.query.saleOrderData&&(this.saleorder=JSON.parse(this.$route.query.saleOrderData),console.log(this.saleorder),this.form.customerId=this.saleorder.customerId,this.form.productId=this.saleorder.orderId)},methods:{clearForm:function(){this.form.reasonForReturn="",this.form.statusOfReturn="",this.form.dateOfApplication=new Date,this.form.expectedDateOfCompletion=""},submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return!1;r.$axios({url:"/api/returnOrders/add",method:"post",data:{orderId:r.form.orderId,customerId:r.form.customerId,productId:r.form.productId,reasonForReturn:r.form.reasonForReturn,statusOfReturn:"待审批",dateOfApplication:r.form.dateOfApplication,expectedDateOfCompletion:new Date}}).then(function(){r.$message.success("退换货申请单已添加"),r.clearForm(),r.$router.push({path:"/QueryPurchaseRecords"})}).catch(function(){r.$message.error("添加退换货申请单失败")})})}}},a={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("退换货申请单")])]),e._v(" "),t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"},nativeOn:{submit:function(e){e.preventDefault()}}},[t("el-form-item",{attrs:{label:"客户ID",prop:"customerId"}},[t("el-input",{attrs:{readonly:"true",placeholder:"请输入客户ID"},model:{value:e.form.customerId,callback:function(r){e.$set(e.form,"customerId",r)},expression:"form.customerId"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"订单ID",prop:"productId"}},[t("el-input",{attrs:{readonly:"true",placeholder:"请输入商品ID"},model:{value:e.form.productId,callback:function(r){e.$set(e.form,"productId",r)},expression:"form.productId"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"退换原因",prop:"reasonForReturn"}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入退换原因"},model:{value:e.form.reasonForReturn,callback:function(r){e.$set(e.form,"reasonForReturn",r)},expression:"form.reasonForReturn"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"申请日期",prop:"dateOfApplication"}},[t("el-date-picker",{attrs:{type:"date",placeholder:"请选择申请日期"},model:{value:e.form.dateOfApplication,callback:function(r){e.$set(e.form,"dateOfApplication",r)},expression:"form.dateOfApplication"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.submitForm("form")}}},[e._v("提交")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.clearForm()}}},[e._v("清空")])],1)],1)],1)},staticRenderFns:[]};var s=t("VU/8")(o,a,!1,function(e){t("YwpY")},"data-v-7c5d9d1a",null);r.default=s.exports},YwpY:function(e,r){}});