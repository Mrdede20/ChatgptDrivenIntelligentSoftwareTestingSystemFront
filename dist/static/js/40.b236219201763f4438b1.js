webpackJsonp([40],{"+go4":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});e("zL8q"),e("tvR6");var c={data:function(){return{articleContent:"撤销原因",activity:{Activity_id:null,Activity_name:null,Activity_type:null,Responsible_id:null,Accessory_table_id:null},activityList:[],verificationResult:"",showTable:!1}},created:function(){this.getActivityList()},methods:{deleteActivity:function(){var t=this;this.$axios.delete("/api/marketingactivity/del/"+this.activity.Activity_id).then(function(i){t.$message.success("该营销活动已删除")}).catch(function(i){t.$message.error("Failed to delete the activity.")})},getActivityList:function(){var t=this;this.$axios("/api/marketingactivity/selectAll").then(function(i){var e=i.data;console.log(i),t.activityList=e.map(function(t){return{Activity_id:t.id,Activity_name:t.activityName,Activity_type:t.activityType,Responsible_id:t.responsibleId,Accessory_table_id:t.accessoryTableId}})}).catch(function(t){console.log(t)})},authentication:function(){var t=this.activity,i=t.Activity_id,e=t.Activity_name,c=t.Activity_type,a=t.Responsible_id,l=t.Accessory_table_id;if(console.log(i),i&&e&&c&&a&&l){var s=this.activityList.find(function(t){return t.Activity_id===i&&t.Activity_name===e&&t.Activity_type===c&&t.Responsible_id===a&&t.Accessory_table_id===l});console.log(this.activityList),this.verificationResult=s?"验证成功":"验证失败"}else this.verificationResult="未输入完全"},getInputClass:function(t){var i=this.verificationResult,e=this.activity;return"验证成功"===i&&e[t]||"验证失败"===i&&e[t]?"is-success":"未输入完全"===i&&!e[t]||"验证失败"===i&&!e[t]?"is-error":"未输入完全"===i&&null===e[t]?"is-focusable":""}}},a={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("el-card",{staticClass:"box-card",attrs:{id:"card1"}},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("撤销营销活动")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.authentication}},[t._v("\n          "+t._s(t.verificationResult||"验证")+"\n        ")])],1),t._v(" "),e("el-form",{ref:"activity",attrs:{model:t.activity,"label-width":"200px"}},[e("el-form-item",{attrs:{label:"营销活动编号",prop:"Activity_id"}},[e("el-input",{class:t.getInputClass("Activity_id"),attrs:{placeholder:"请输入营销活动编号","prefix-icon":"el-icon-check"},model:{value:t.activity.Activity_id,callback:function(i){t.$set(t.activity,"Activity_id",t._n(i))},expression:"activity.Activity_id"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"营销活动名称",prop:"Activity_name"}},[e("el-input",{class:t.getInputClass("Activity_name"),attrs:{placeholder:"请输入营销活动名称","prefix-icon":"el-icon-check"},model:{value:t.activity.Activity_name,callback:function(i){t.$set(t.activity,"Activity_name",i)},expression:"activity.Activity_name"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"营销活动类型",prop:"Activity_type"}},[e("el-select",{class:t.getInputClass("Activity_type"),attrs:{placeholder:"请选择营销活动类型","prefix-icon":"el-icon-check"},model:{value:t.activity.Activity_type,callback:function(i){t.$set(t.activity,"Activity_type",i)},expression:"activity.Activity_type"}},[e("el-option",{attrs:{label:"季度营销活动",value:"季度营销活动"}}),t._v(" "),e("el-option",{attrs:{label:"年度营销活动",value:"年度营销活动"}}),t._v(" "),e("el-option",{attrs:{label:"其他营销活动",value:"其他营销活动"}})],1)],1),t._v(" "),e("el-form-item",{attrs:{label:"负责人编号",prop:"Responsible_id"}},[e("el-input",{class:t.getInputClass("Responsible_id"),attrs:{placeholder:"请输入负责人编号","prefix-icon":"el-icon-check"},model:{value:t.activity.Responsible_id,callback:function(i){t.$set(t.activity,"Responsible_id",t._n(i))},expression:"activity.Responsible_id"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"对应配件表编号",prop:"Accessory_table_id"}},[e("el-input",{class:t.getInputClass("Accessory_table_id"),attrs:{placeholder:"对应配件表编号","prefix-icon":"el-icon-check"},model:{value:t.activity.Accessory_table_id,callback:function(i){t.$set(t.activity,"Accessory_table_id",t._n(i))},expression:"activity.Accessory_table_id"}})],1)],1),t._v(" "),"验证成功"===t.verificationResult?e("div",[e("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",placeholder:"在这里输入文章内容",rows:10},model:{value:t.articleContent,callback:function(i){t.articleContent=i},expression:"articleContent"}}),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.deleteActivity}},[t._v("\n\t\t\t\t  撤销营销活动\n\t\t")])],1):t._e()],1)],1)},staticRenderFns:[]};var l=e("VU/8")(c,a,!1,function(t){e("G+US")},null,null);i.default=l.exports},"G+US":function(t,i){}});