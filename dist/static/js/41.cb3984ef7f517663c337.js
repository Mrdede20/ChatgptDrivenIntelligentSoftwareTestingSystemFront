webpackJsonp([41],{YiQC:function(e,r){},awS4:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o={data:function(){return{form:{customOrderId:"",customerId:"",productId:"",specialRequirements:"",orderDate:new Date,expectedDateOfCompletion:"",statusOfOrder:""},rules:{customerId:[{required:!0,message:"请输入客户ID",trigger:"blur"},{pattern:/^\d+$/,message:"客户ID必须为整数",trigger:"blur"}],specialRequirements:[{required:!0,message:"请输入特殊要求",trigger:"blur"}],orderDate:[{required:!0,message:"请选择订单日期",trigger:"change"}]}}},mounted:function(){this.form.customerId=this.$cookies.get("userInfo").id},methods:{clearForm:function(){this.form.customOrderId="",this.form.productId="",this.form.specialRequirements="",this.form.orderDate=new Date,this.form.expectedDateOfCompletion="",this.form.statusOfOrder=""},submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return!1;r.$axios({url:"/api/customOrders/add",method:"post",data:{customOrderId:r.form.customOrderId,customerId:r.form.customerId,productId:r.form.productId,specialRequirements:r.form.specialRequirements,orderDate:r.form.orderDate,expectedDateOfCompletion:"",statusOfOrder:"待审批"}}).then(function(){r.$message.success("定制订单已添加"),r.clearForm()}).catch(function(){r.$message.error("添加定制订单失败")})})}}},s={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("定制订单")])]),e._v(" "),t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"},nativeOn:{submit:function(e){e.preventDefault()}}},[t("el-form-item",{attrs:{label:"客户ID",prop:"customerId"}},[t("el-input",{attrs:{placeholder:"请输入客户ID"},model:{value:e.form.customerId,callback:function(r){e.$set(e.form,"customerId",r)},expression:"form.customerId"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"特殊要求",prop:"specialRequirements"}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入特殊要求"},model:{value:e.form.specialRequirements,callback:function(r){e.$set(e.form,"specialRequirements",r)},expression:"form.specialRequirements"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"订单日期",prop:"orderDate"}},[t("el-date-picker",{attrs:{type:"date",placeholder:"请选择订单日期"},model:{value:e.form.orderDate,callback:function(r){e.$set(e.form,"orderDate",r)},expression:"form.orderDate"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.submitForm("form")}}},[e._v("提交")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.clearForm()}}},[e._v("清空")])],1)],1)],1)},staticRenderFns:[]};var a=t("VU/8")(o,s,!1,function(e){t("YiQC")},"data-v-42a2959c",null);r.default=a.exports}});