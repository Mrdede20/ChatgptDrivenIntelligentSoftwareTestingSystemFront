webpackJsonp([27],{"+naP":function(e,r){},"C0D+":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={data:function(){return{form:{applicationId:"",customerId:"",orderId:"",invoiceType:"",taxId:"",applicationDate:new Date,statusOfApplication:"",issuanceDate:""},rules:{customerId:[{required:!0,message:"请输入客户ID",trigger:"blur"},{pattern:/^\d+$/,message:"客户ID必须为整数",trigger:"blur"}],orderId:[{required:!0,message:"请输入订单ID",trigger:"blur"},{pattern:/^\d+$/,message:"订单ID必须为整数",trigger:"blur"}],invoiceType:[{required:!0,message:"请选择发票类型",trigger:"blur"}],taxId:[{required:!0,message:"请输入税务ID",trigger:"blur"},{pattern:/^\d+$/,message:"税务ID必须为整数",trigger:"blur"}],applicationDate:[{required:!0,message:"请选择申请日期",trigger:"change"}],statusOfApplication:[{required:!0,message:"请输入申请状态",trigger:"blur"}],issuanceDate:[{required:!0,message:"请选择发行日期",trigger:"change"}]}}},created:function(){this.$route.query.saleOrderData&&(this.saleorder=JSON.parse(this.$route.query.saleOrderData),console.log(this.saleorder),this.form.customerId=this.saleorder.customerId,this.form.orderId=this.saleorder.orderId)},methods:{clearForm:function(){this.form.applicationId="",this.form.invoiceType="",this.form.taxId="",this.form.applicationDate=new Date,this.form.statusOfApplication="",this.form.issuanceDate=""},submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return!1;r.$axios({url:"/api/invoiceApplications/add",method:"post",data:{applicationId:r.form.applicationId,customerId:r.form.customerId,orderId:r.form.orderId,invoiceType:r.form.invoiceType,taxId:r.form.taxId,applicationDate:r.form.applicationDate,statusOfApplication:"待审批",issuanceDate:new Date}}).then(function(){r.$message.success("发票申请单已添加"),r.clearForm(),r.$router.push({path:"/QueryPurchaseRecords"})}).catch(function(){r.$message.error("添加发票申请单失败")})})}}},o={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("发票申请单")])]),e._v(" "),t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"},nativeOn:{submit:function(e){e.preventDefault()}}},[t("el-form-item",{attrs:{label:"客户ID",prop:"customerId"}},[t("el-input",{attrs:{placeholder:"请输入客户ID"},model:{value:e.form.customerId,callback:function(r){e.$set(e.form,"customerId",r)},expression:"form.customerId"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"订单ID",prop:"orderId"}},[t("el-input",{attrs:{placeholder:"请输入订单ID"},model:{value:e.form.orderId,callback:function(r){e.$set(e.form,"orderId",r)},expression:"form.orderId"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"发票类型",prop:"invoiceType"}},[t("el-select",{attrs:{placeholder:"请选择发票类型"},model:{value:e.form.invoiceType,callback:function(r){e.$set(e.form,"invoiceType",r)},expression:"form.invoiceType"}},[t("el-option",{attrs:{label:"增值税专用发票",value:"增值税专用发票"}}),e._v(" "),t("el-option",{attrs:{label:"增值税普通发票",value:"增值税普通发票"}}),e._v(" "),t("el-option",{attrs:{label:"电子发票",value:"电子发票"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"申请日期",prop:"applicationDate"}},[t("el-date-picker",{attrs:{type:"date",placeholder:"请选择申请日期"},model:{value:e.form.applicationDate,callback:function(r){e.$set(e.form,"applicationDate",r)},expression:"form.applicationDate"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.submitForm("form")}}},[e._v("提交")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.clearForm()}}},[e._v("清空")])],1)],1)],1)},staticRenderFns:[]};var i=t("VU/8")(a,o,!1,function(e){t("+naP")},"data-v-9091aeb6",null);r.default=i.exports}});